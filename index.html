<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–ë–ª–æ–≥ ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–∞</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    body{font-family:system-ui,Arial;margin:16px}
    .grid{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin:8px 0 16px}
    .btn{padding:10px;border-radius:10px;border:0;background:#2b8a3e;color:#fff;cursor:pointer}
    .chip{padding:10px;border-radius:10px;border:1px solid #ccc;background:#fafafa;cursor:pointer;text-align:center}
    .chip.active{border-color:#2b8a3e;background:#eaf6ec}
    input,textarea{width:100%;padding:10px;margin:8px 0;border-radius:10px;border:1px solid #ccc}
    .note{color:#666;font-size:14px}
  </style>
</head>
<body>
  <h2>üì∞ –ù–æ–≤—ã–π –ø–æ—Å—Ç</h2>

  <div class="note">1) –í—ã–±–µ—Ä–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—é ‚Ä¢ 2) –í–≤–µ–¥–∏ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ —Ç–µ–∫—Å—Ç ‚Ä¢ 3) –ù–∞–∂–º–∏ ¬´–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å¬ª ‚Ä¢ 4) –ó–∞—Ç–µ–º –æ—Ç–ø—Ä–∞–≤—å –∞—É–¥–∏–æ/–¥–æ–∫–∏ –±–æ—Ç—É ‚Äî –æ–Ω–∏ –ø—Ä–∏–∫—Ä–µ–ø—è—Ç—Å—è –∫ —ç—Ç–æ–º—É –ø–æ—Å—Ç—É.</div>

  <h3>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</h3>
  <div class="grid" id="cats">
    <div class="chip" data-val="mgts">–ú–ì–¢–°/–†–æ—Å—Ç–µ–ª–µ–∫–æ–º/–î–æ–º–æ—Ñ–æ–Ω/–°—á—ë—Ç—á–∏–∫–∏/–≠–Ω–µ—Ä–≥–æ—Å–±—ã—Ç</div>
    <div class="chip" data-val="clinic">–ü–æ–ª–∏–∫–ª–∏–Ω–∏–∫–∞</div>
    <div class="chip" data-val="speeches">–°–ø–∏—á–∏</div>
    <div class="chip" data-val="faq">–û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã</div>
  </div>

  <input id="title" placeholder="–ó–∞–≥–æ–ª–æ–≤–æ–∫" />
  <textarea id="content" placeholder="–¢–µ–∫—Å—Ç (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)"></textarea>
  <button class="btn" id="send">–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å</button>

  <div id="status"></div>

  <script>
    const tg = window.Telegram.WebApp;
    tg.expand();

    let category = null;
    document.querySelectorAll('.chip').forEach(el=>{
      el.onclick=()=>{
        document.querySelectorAll('.chip').forEach(c=>c.classList.remove('active'));
        el.classList.add('active');
        category = el.dataset.val;
      }
    });

    document.getElementById('send').onclick = () => {
      const title = document.getElementById('title').value.trim();
      const content = document.getElementById('content').value.trim();
      if (!category){document.getElementById('status').innerText='–í—ã–±–µ—Ä–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—é';return;}
      if (!title){document.getElementById('status').innerText='–í–≤–µ–¥–∏ –∑–∞–≥–æ–ª–æ–≤–æ–∫';return;}
      tg.sendData(JSON.stringify({type:'blog_post', category, title, content}));
      tg.close();
    };
  </script>
</body>
</html>
